@model Tuple<util.cprbroker.IPerson>
@{
    var person = Model.Item1;
}

<div class="row">
    <div class="col-md-12">
        <br/>
        <div class="panel panel-default">

            <div class="panel-heading">
                <h3 class="panel-title">@Messages.resultat_postaddresse</h3>
            </div>

            <div class="panel-body">
                @Html.Partial("textfield", new Tuple<string, object>("person_address_greenlandicAddress_streetName", person.address().greenlandicAddress().streetName()))
                @Html.Partial("textfield", new Tuple<string, object>("person.address.greenlandicAddress.streetNameForAddressing", person.address().greenlandicAddress().streetNameForAddressing()))
                @Html.Partial("textfield", new Tuple<string, object>("person.address.greenlandicAddress.streetBuilding", person.address().greenlandicAddress().streetBuilding()))
                @Html.Partial("textfield", new Tuple<string, object>("person.address.greenlandicAddress.floor", person.address().greenlandicAddress().floor()))
                @Html.Partial("textfield", new Tuple<string, object>("person.address.greenlandicAddress.suite", person.address().greenlandicAddress().suite()))
                @Html.Partial("textfield", new Tuple<string, object>("person.address.greenlandicAddress.districtSubdivision", person.address().greenlandicAddress().districtSubdivision()))
                @Html.Partial("textfield", new Tuple<string, object>("person.address.greenlandicAddress.postCode", person.address().greenlandicAddress().postCode()))
                @Html.Partial("textfield", new Tuple<string, object>("person.address.greenlandicAddress.districtName", person.address().greenlandicAddress().districtName()))
                @Html.Partial("textfield", new Tuple<string, object>("person.address.greenlandicAddress.countryIdentificationCode", person.address().greenlandicAddress().countryIdentificationCode()))

                @Html.Partial("textfield", new Tuple<string, object>("person.address.greenlandicAddress.municipalityCode", person.address().greenlandicAddress().municipalityCode()))
                @Html.Partial("textfield", new Tuple<string, object>("person.address.greenlandicAddress.streetCode", person.address().greenlandicAddress().streetCode()))

                @Html.Partial("booleanfield", new Tuple<bool, string, bool>(true, "person.address.greenlandicAddress.isSpecielVejkode", person.address().greenlandicAddress().isSpecielVejkode()))
                @Html.Partial("booleanfield", new Tuple<bool, string, bool>(true, "person.address.greenlandicAddress.isUkendtAdresse", person.address().greenlandicAddress().isUkendtAdresse()))

                @Html.Partial("textfield", new Tuple<string, object>("person.address.greenlandicAddress.note", person.address().greenlandicAddress().note()))

            </ div >
            < div class="panel-footer"><p class="text-right">@Html.Partial("virkning", new Tuple<IVirkning, bool>(person.effect(), true))</p></div>
        </div>
    </div>

    @* Have to do some silly check here, because a worldAddress ALWAYS has two fields..*@
    @if(person.otherAddress() != null && person.otherAddress().worldAddress() != null &&
            !string.IsNullOrEmpty(string.Format("{0}{1}{2}{3}{4}{5}", 
                    person.otherAddress().worldAddress().locationDescriptionText(),
                    person.otherAddress().worldAddress().postalAddressFirstLineText(),
                    person.otherAddress().worldAddress().postalAddressSecondLineText(),
                    person.otherAddress().worldAddress().postalAddressThirdLineText(),
                    person.otherAddress().worldAddress().postalAddressFourthLineText(),
                    person.otherAddress().worldAddress().postalAddressFifthLineText())
    )) {

        if(person.otherAddress().addressType() == util.cprbroker.EAddressType.World) {
            <div class="col-md-12">
                <br/>
                <div class="panel panel-default">

                    <div class="panel-heading">
                        <h3 class="panel-title">@Messages.resultat_andenaddresse</h3>
                    </div>

                    <div class="panel-body">

                        @Html.Partial("textfield", new Tuple<string, object>("person.otherAddress.worldAddress.locationDescriptionText", person.otherAddress().worldAddress().locationDescriptionText()))
                        @Html.Partial("textfield", new Tuple<string, object>("person.otherAddress.worldAddress.postalAddressFirstLineText", person.otherAddress().worldAddress().postalAddressFirstLineText()))
                        @Html.Partial("textfield", new Tuple<string, object>("person.otherAddress.worldAddress.postalAddressSecondLineText", person.otherAddress().worldAddress().postalAddressSecondLineText()))
                        @Html.Partial("textfield", new Tuple<string, object>("person.otherAddress.worldAddress.postalAddressThirdLineText", person.otherAddress().worldAddress().postalAddressThirdLineText()))
                        @Html.Partial("textfield", new Tuple<string, object>("person.otherAddress.worldAddress.postalAddressFourthLineText", person.otherAddress().worldAddress().postalAddressFourthLineText()))
                        @Html.Partial("textfield", new Tuple<string, object>("person.otherAddress.worldAddress.postalAddressFifthLineText", person.otherAddress().worldAddress().postalAddressFifthLineText()))
                        @Html.Partial("booleanfield", new Tuple<bool, string, bool>(true, "person.otherAddress.worldAddress.isUkendtAdresseIndikator", person.otherAddress().worldAddress().isUkendtAdresseIndikator()))
                        @Html.Partial("textfield", new Tuple<string, object>("person.otherAddress.worldAddress.note", person.otherAddress().worldAddress().note()))

</div>
                </div>
            </div>
        }
    }
</div>
